# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: Contract locks Ether without a withdraw function](#h-1-contract-locks-ether-without-a-withdraw-function)
  - [H-2: Reentrancy: State change after external call](#h-2-reentrancy-state-change-after-external-call)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk](#l-1-centralization-risk)
  - [L-2: Unspecific Solidity Pragma](#l-2-unspecific-solidity-pragma)
  - [L-3: Address State Variable Set Without Checks](#l-3-address-state-variable-set-without-checks)
  - [L-4: Public Function Not Used Internally](#l-4-public-function-not-used-internally)
  - [L-5: Literal Instead of Constant](#l-5-literal-instead-of-constant)
  - [L-6: `nonReentrant` is Not the First Modifier](#l-6-nonreentrant-is-not-the-first-modifier)
  - [L-7: PUSH0 Opcode](#l-7-push0-opcode)
  - [L-8: Modifier Invoked Only Once](#l-8-modifier-invoked-only-once)
  - [L-9: Empty Block](#l-9-empty-block)
  - [L-10: Unused Error](#l-10-unused-error)
  - [L-11: Loop Contains `require`/`revert`](#l-11-loop-contains-requirerevert)
  - [L-12: Unused Import](#l-12-unused-import)
  - [L-13: Unchecked Return](#l-13-unchecked-return)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 22 |
| Total nSLOC | 1719 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| contracts/fundingModules/GrantModule.sol | 70 |
| contracts/governance/GovernanceManager.sol | 290 |
| contracts/interfaces/IERC721IgnitionZK.sol | 21 |
| contracts/interfaces/IUpgradeable.sol | 4 |
| contracts/interfaces/IVersioned.sol | 4 |
| contracts/interfaces/fundingModules/IGrantModule.sol | 10 |
| contracts/interfaces/governance/IGovernanceManager.sol | 4 |
| contracts/interfaces/managers/IMembershipManager.sol | 20 |
| contracts/interfaces/managers/IProposalManager.sol | 23 |
| contracts/interfaces/managers/IVoteManager.sol | 25 |
| contracts/interfaces/treasury/ITreasuryFactory.sol | 11 |
| contracts/interfaces/treasury/ITreasuryManager.sol | 34 |
| contracts/libraries/FundingTypes.sol | 15 |
| contracts/libraries/TreasuryTypes.sol | 14 |
| contracts/libraries/VoteTypes.sol | 24 |
| contracts/managers/MembershipManager.sol | 232 |
| contracts/managers/ProposalManager.sol | 149 |
| contracts/managers/VoteManager.sol | 273 |
| contracts/token/ERC721IgnitionZK.sol | 82 |
| contracts/treasury/BeaconManager.sol | 33 |
| contracts/treasury/TreasuryFactory.sol | 90 |
| contracts/treasury/TreasuryManager.sol | 291 |
| **Total** | **1719** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 2 |
| Low | 13 |


# High Issues

## H-1: Contract locks Ether without a withdraw function

It appears that the contract includes a payable function to accept Ether but lacks a corresponding function to withdraw it, which leads to the Ether being locked in the contract. To resolve this issue, please implement a public or external function that allows for the withdrawal of Ether from the contract.

<details><summary>6 Found Instances</summary>


- Found in contracts/fundingModules/GrantModule.sol [Line: 22](contracts/fundingModules/GrantModule.sol#L22)

	```solidity
	contract GrantModule is Initializable, UUPSUpgradeable, OwnableUpgradeable, IGrantModule, IVersioned {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 32](contracts/governance/GovernanceManager.sol#L32)

	```solidity
	contract GovernanceManager is Initializable, UUPSUpgradeable, OwnableUpgradeable, ERC165Upgradeable, IVersioned {
	```

- Found in contracts/managers/MembershipManager.sol [Line: 29](contracts/managers/MembershipManager.sol#L29)

	```solidity
	contract MembershipManager is Initializable, UUPSUpgradeable, OwnableUpgradeable, IMembershipManager, ERC165Upgradeable, IVersioned {
	```

- Found in contracts/managers/ProposalManager.sol [Line: 24](contracts/managers/ProposalManager.sol#L24)

	```solidity
	contract ProposalManager is Initializable, OwnableUpgradeable, UUPSUpgradeable, ReentrancyGuardUpgradeable, IProposalManager, ERC165Upgradeable, IVersioned {
	```

- Found in contracts/managers/VoteManager.sol [Line: 26](contracts/managers/VoteManager.sol#L26)

	```solidity
	contract VoteManager is Initializable, OwnableUpgradeable, UUPSUpgradeable, ReentrancyGuardUpgradeable, IVoteManager, ERC165Upgradeable, IVersioned {
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 19](contracts/treasury/TreasuryFactory.sol#L19)

	```solidity
	contract TreasuryFactory is Ownable, ERC165, ITreasuryFactory {
	```

</details>



## H-2: Reentrancy: State change after external call

Changing state after an external call can lead to re-entrancy attacks.Use the checks-effects-interactions pattern to avoid this issue.

<details><summary>6 Found Instances</summary>


- Found in contracts/managers/MembershipManager.sol [Line: 294](contracts/managers/MembershipManager.sol#L294)

	State is changed at: `nftImplementation = _nftImplementation`, `membershipVerifier = IMembershipVerifier(_membershipVerifier)`
	```solidity
	        if (!IERC165(_nftImplementation).supportsInterface(type(IERC721).interfaceId)) revert NftMustBeERC721();
	```

- Found in contracts/managers/ProposalManager.sol [Line: 286](contracts/managers/ProposalManager.sol#L286)

	State is changed at: `submissionNullifiers[proofSubmissionNullifier] = true`
	```solidity
	        bytes32 currentRoot = membershipManager.groupRoots(groupKey);
	```

- Found in contracts/managers/VoteManager.sol [Line: 373](contracts/managers/VoteManager.sol#L373)

	State is changed at: `voteNullifiers[proofVoteNullifier] = true`, `result.tally.no++`, `result.submissionNullifier = proofSubmissionNullifier`, `result.tally.yes++`, `result.tally.abstain++`
	```solidity
	        bytes32 currentRoot = membershipManager.groupRoots(groupKey);
	```

- Found in contracts/managers/VoteManager.sol [Line: 378](contracts/managers/VoteManager.sol#L378)

	State is changed at: `voteNullifiers[proofVoteNullifier] = true`, `result.tally.no++`, `result.submissionNullifier = proofSubmissionNullifier`, `result.tally.yes++`, `result.tally.abstain++`
	```solidity
	        bool isProposalSubmitted = proposalManager.submissionNullifiers(proofSubmissionNullifier);
	```

- Found in contracts/managers/VoteManager.sol [Line: 395](contracts/managers/VoteManager.sol#L395)

	State is changed at: `result.tally.no++`, `result.submissionNullifier = proofSubmissionNullifier`, `result.tally.yes++`, `result.tally.abstain++`
	```solidity
	        bool isValidVote = voteVerifier.verifyProof(proof, publicSignals);
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 138](contracts/treasury/TreasuryFactory.sol#L138)

	State is changed at: `groupTreasuryAddresses[groupKey] = address(1)`, `groupTreasuryAddresses[groupKey] = treasury`
	```solidity
	        if (membershipManager.groupNftAddresses(groupKey) == address(0)) revert GroupNftNotSet();
	```

</details>



# Low Issues

## L-1: Centralization Risk

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>46 Found Instances</summary>


- Found in contracts/fundingModules/GrantModule.sol [Line: 83](contracts/fundingModules/GrantModule.sol#L83)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/fundingModules/GrantModule.sol [Line: 123](contracts/fundingModules/GrantModule.sol#L123)

	```solidity
	        onlyOwner
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 211](contracts/governance/GovernanceManager.sol#L211)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 269](contracts/governance/GovernanceManager.sol#L269)

	```solidity
	    function setRelayer(address _relayer) external onlyOwner nonZeroAddress(_relayer) {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 282](contracts/governance/GovernanceManager.sol#L282)

	```solidity
	    function setTreasuryFactory(address _treasuryFactory) external onlyOwner nonZeroAddress(_treasuryFactory) {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 308](contracts/governance/GovernanceManager.sol#L308)

	```solidity
	        onlyOwner
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 335](contracts/governance/GovernanceManager.sol#L335)

	```solidity
	        onlyOwner
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 357](contracts/governance/GovernanceManager.sol#L357)

	```solidity
	    function delegateUpgradeMembershipManager(address newImplementation) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 366](contracts/governance/GovernanceManager.sol#L366)

	```solidity
	    function delegateSetMembershipVerifier(address membershipVerifier) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 450](contracts/governance/GovernanceManager.sol#L450)

	```solidity
	    function delegateUpgradeProposalManager(address newImplementation) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 459](contracts/governance/GovernanceManager.sol#L459)

	```solidity
	    function delegateSetProposalSubmissionVerifier(address submissionVerifier) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 468](contracts/governance/GovernanceManager.sol#L468)

	```solidity
	    function delegateSetProposalClaimVerifier(address claimVerifier) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 513](contracts/governance/GovernanceManager.sol#L513)

	```solidity
	    function delegateUpgradeVoteManager(address newImplementation) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 522](contracts/governance/GovernanceManager.sol#L522)

	```solidity
	    function delegateSetVoteVerifier(address voteVerifier) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 566](contracts/governance/GovernanceManager.sol#L566)

	```solidity
	    ) external onlyOwner {
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 593](contracts/governance/GovernanceManager.sol#L593)

	```solidity
	    function delegateUpgradeGrantModule(address newImplementation) external onlyOwner {
	```

- Found in contracts/managers/MembershipManager.sol [Line: 260](contracts/managers/MembershipManager.sol#L260)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/managers/MembershipManager.sol [Line: 310](contracts/managers/MembershipManager.sol#L310)

	```solidity
	    function setMembershipVerifier(address _membershipVerifier) external onlyOwner nonZeroAddress(_membershipVerifier) {
	```

- Found in contracts/managers/MembershipManager.sol [Line: 330](contracts/managers/MembershipManager.sol#L330)

	```solidity
	    ) external onlyOwner nonZeroKey(groupKey) {
	```

- Found in contracts/managers/MembershipManager.sol [Line: 364](contracts/managers/MembershipManager.sol#L364)

	```solidity
	        onlyOwner 
	```

- Found in contracts/managers/MembershipManager.sol [Line: 406](contracts/managers/MembershipManager.sol#L406)

	```solidity
	        onlyOwner
	```

- Found in contracts/managers/MembershipManager.sol [Line: 440](contracts/managers/MembershipManager.sol#L440)

	```solidity
	        onlyOwner 
	```

- Found in contracts/managers/MembershipManager.sol [Line: 475](contracts/managers/MembershipManager.sol#L475)

	```solidity
	        onlyOwner 
	```

- Found in contracts/managers/MembershipManager.sol [Line: 496](contracts/managers/MembershipManager.sol#L496)

	```solidity
	        onlyOwner 
	```

- Found in contracts/managers/ProposalManager.sol [Line: 184](contracts/managers/ProposalManager.sol#L184)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/managers/ProposalManager.sol [Line: 235](contracts/managers/ProposalManager.sol#L235)

	```solidity
	    function setProposalSubmissionVerifier(address _submissionVerifier) external onlyOwner nonZeroAddress(_submissionVerifier) {
	```

- Found in contracts/managers/ProposalManager.sol [Line: 248](contracts/managers/ProposalManager.sol#L248)

	```solidity
	    function setProposalClaimVerifier(address _claimVerifier) external onlyOwner nonZeroAddress(_claimVerifier) {
	```

- Found in contracts/managers/ProposalManager.sol [Line: 272](contracts/managers/ProposalManager.sol#L272)

	```solidity
	        onlyOwner 
	```

- Found in contracts/managers/ProposalManager.sol [Line: 315](contracts/managers/ProposalManager.sol#L315)

	```solidity
	        onlyOwner 
	```

- Found in contracts/managers/VoteManager.sol [Line: 273](contracts/managers/VoteManager.sol#L273)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/managers/VoteManager.sol [Line: 332](contracts/managers/VoteManager.sol#L332)

	```solidity
	     function setVoteVerifier(address _voteVerifier) external override onlyOwner nonZeroAddress(_voteVerifier) {
	```

- Found in contracts/managers/VoteManager.sol [Line: 359](contracts/managers/VoteManager.sol#L359)

	```solidity
	        onlyOwner
	```

- Found in contracts/managers/VoteManager.sol [Line: 445](contracts/managers/VoteManager.sol#L445)

	```solidity
	    function setMemberCount(bytes32 groupKey, uint256 _memberCount) external onlyOwner nonZeroKey(groupKey) {
	```

- Found in contracts/managers/VoteManager.sol [Line: 471](contracts/managers/VoteManager.sol#L471)

	```solidity
	    ) external onlyOwner {
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 81](contracts/token/ERC721IgnitionZK.sol#L81)

	```solidity
	    function safeMint(address to) external onlyRole(MINTER_ROLE) returns (uint256) {
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 89](contracts/token/ERC721IgnitionZK.sol#L89)

	```solidity
	    function revokeMembershipToken(uint256 tokenId) external onlyRole(BURNER_ROLE) {
	```

- Found in contracts/treasury/BeaconManager.sol [Line: 16](contracts/treasury/BeaconManager.sol#L16)

	```solidity
	contract BeaconManager is Ownable {
	```

- Found in contracts/treasury/BeaconManager.sol [Line: 77](contracts/treasury/BeaconManager.sol#L77)

	```solidity
	    function updateImplementation(address newImplementation) external onlyOwner nonZeroAddress(newImplementation) {
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 19](contracts/treasury/TreasuryFactory.sol#L19)

	```solidity
	contract TreasuryFactory is Ownable, ERC165, ITreasuryFactory {
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 131](contracts/treasury/TreasuryFactory.sol#L131)

	```solidity
	        onlyOwner 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 362](contracts/treasury/TreasuryManager.sol#L362)

	```solidity
	        onlyRole(DEFAULT_ADMIN_ROLE) 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 382](contracts/treasury/TreasuryManager.sol#L382)

	```solidity
	        onlyRole(EMERGENCY_RECOVERY_ROLE) 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 487](contracts/treasury/TreasuryManager.sol#L487)

	```solidity
	        onlyRole(DEFAULT_ADMIN_ROLE) 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 513](contracts/treasury/TreasuryManager.sol#L513)

	```solidity
	        onlyRole(DEFAULT_ADMIN_ROLE) 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 529](contracts/treasury/TreasuryManager.sol#L529)

	```solidity
	        onlyRole(DEFAULT_ADMIN_ROLE) 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 555](contracts/treasury/TreasuryManager.sol#L555)

	```solidity
	        onlyRole(DEFAULT_ADMIN_ROLE) 
	```

</details>



## L-2: Unspecific Solidity Pragma

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

<details><summary>19 Found Instances</summary>


- Found in contracts/fundingModules/GrantModule.sol [Line: 2](contracts/fundingModules/GrantModule.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 2](contracts/governance/GovernanceManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/IERC721IgnitionZK.sol [Line: 2](contracts/interfaces/IERC721IgnitionZK.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/IUpgradeable.sol [Line: 2](contracts/interfaces/IUpgradeable.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/IVersioned.sol [Line: 2](contracts/interfaces/IVersioned.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/fundingModules/IGrantModule.sol [Line: 2](contracts/interfaces/fundingModules/IGrantModule.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/governance/IGovernanceManager.sol [Line: 2](contracts/interfaces/governance/IGovernanceManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/managers/IMembershipManager.sol [Line: 2](contracts/interfaces/managers/IMembershipManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/managers/IProposalManager.sol [Line: 2](contracts/interfaces/managers/IProposalManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/managers/IVoteManager.sol [Line: 2](contracts/interfaces/managers/IVoteManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/treasury/ITreasuryFactory.sol [Line: 2](contracts/interfaces/treasury/ITreasuryFactory.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/treasury/ITreasuryManager.sol [Line: 2](contracts/interfaces/treasury/ITreasuryManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/managers/MembershipManager.sol [Line: 2](contracts/managers/MembershipManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/managers/ProposalManager.sol [Line: 2](contracts/managers/ProposalManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/managers/VoteManager.sol [Line: 2](contracts/managers/VoteManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 3](contracts/token/ERC721IgnitionZK.sol#L3)

	```solidity
	pragma solidity ^0.8.27;
	```

- Found in contracts/treasury/BeaconManager.sol [Line: 2](contracts/treasury/BeaconManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 2](contracts/treasury/TreasuryFactory.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 2](contracts/treasury/TreasuryManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

</details>



## L-3: Address State Variable Set Without Checks

Check for `address(0)` when assigning values to address state variables.

<details><summary>9 Found Instances</summary>


- Found in contracts/managers/MembershipManager.sol [Line: 295](contracts/managers/MembershipManager.sol#L295)

	```solidity
	        nftImplementation = _nftImplementation;
	```

- Found in contracts/managers/MembershipManager.sol [Line: 296](contracts/managers/MembershipManager.sol#L296)

	```solidity
	        membershipVerifier = IMembershipVerifier(_membershipVerifier);
	```

- Found in contracts/managers/ProposalManager.sol [Line: 218](contracts/managers/ProposalManager.sol#L218)

	```solidity
	        submissionVerifier = IProposalVerifier(_submissionVerifier);
	```

- Found in contracts/managers/ProposalManager.sol [Line: 219](contracts/managers/ProposalManager.sol#L219)

	```solidity
	        claimVerifier = IProposalClaimVerifier(_claimVerifier);
	```

- Found in contracts/managers/ProposalManager.sol [Line: 220](contracts/managers/ProposalManager.sol#L220)

	```solidity
	        membershipManager = IMembershipManager(_membershipManager);
	```

- Found in contracts/managers/VoteManager.sol [Line: 308](contracts/managers/VoteManager.sol#L308)

	```solidity
	        voteVerifier = IVoteVerifier(_voteVerifier);
	```

- Found in contracts/managers/VoteManager.sol [Line: 309](contracts/managers/VoteManager.sol#L309)

	```solidity
	        membershipManager = IMembershipManager(_membershipManager);
	```

- Found in contracts/managers/VoteManager.sol [Line: 310](contracts/managers/VoteManager.sol#L310)

	```solidity
	        proposalManager = IProposalManager(_proposalManager);
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 339](contracts/treasury/TreasuryManager.sol#L339)

	```solidity
	        governanceManager = IGovernanceManager(_governanceManager);
	```

</details>



## L-4: Public Function Not Used Internally

If a function is marked public but is not used internally, consider marking it as `external`.

<details><summary>1 Found Instances</summary>


- Found in contracts/managers/MembershipManager.sol [Line: 469](contracts/managers/MembershipManager.sol#L469)

	```solidity
	    function mintNftToMembers
	```

</details>



## L-5: Literal Instead of Constant

Define and use `constant` variables instead of using literals. If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

<details><summary>21 Found Instances</summary>


- Found in contracts/governance/GovernanceManager.sol [Line: 378](contracts/governance/GovernanceManager.sol#L378)

	```solidity
	        uint256[24] calldata proof, 
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 481](contracts/governance/GovernanceManager.sol#L481)

	```solidity
	        uint256[24] calldata proof,
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 482](contracts/governance/GovernanceManager.sol#L482)

	```solidity
	        uint256[5] calldata pubSignals,
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 497](contracts/governance/GovernanceManager.sol#L497)

	```solidity
	        uint256[24] calldata proof,
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 535](contracts/governance/GovernanceManager.sol#L535)

	```solidity
	        uint256[24] calldata proof,
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 536](contracts/governance/GovernanceManager.sol#L536)

	```solidity
	        uint256[5] calldata publicSignals,
	```

- Found in contracts/interfaces/managers/IProposalManager.sol [Line: 38](contracts/interfaces/managers/IProposalManager.sol#L38)

	```solidity
	        uint256[24] calldata proof,
	```

- Found in contracts/interfaces/managers/IProposalManager.sol [Line: 52](contracts/interfaces/managers/IProposalManager.sol#L52)

	```solidity
	        uint256[24] calldata proof,
	```

- Found in contracts/managers/ProposalManager.sol [Line: 266](contracts/managers/ProposalManager.sol#L266)

	```solidity
	        uint256[24] calldata proof,
	```

- Found in contracts/managers/ProposalManager.sol [Line: 310](contracts/managers/ProposalManager.sol#L310)

	```solidity
	        uint256[24] calldata proof,
	```

- Found in contracts/managers/VoteManager.sol [Line: 316](contracts/managers/VoteManager.sol#L316)

	```solidity
	            minQuorumPercent: 25,
	```

- Found in contracts/managers/VoteManager.sol [Line: 317](contracts/managers/VoteManager.sol#L317)

	```solidity
	            maxQuorumPercent: 50,
	```

- Found in contracts/managers/VoteManager.sol [Line: 354](contracts/managers/VoteManager.sol#L354)

	```solidity
	        uint256[5] calldata publicSignals,
	```

- Found in contracts/managers/VoteManager.sol [Line: 446](contracts/managers/VoteManager.sol#L446)

	```solidity
	        if (_memberCount == 0 || _memberCount > 1024) revert InvalidMemberCount();
	```

- Found in contracts/managers/VoteManager.sol [Line: 472](contracts/managers/VoteManager.sol#L472)

	```solidity
	        if (_minQuorumPercent < 25 ||
	```

- Found in contracts/managers/VoteManager.sol [Line: 474](contracts/managers/VoteManager.sol#L474)

	```solidity
	            _maxQuorumPercent > 50 ) revert InvalidQuorumParams();
	```

- Found in contracts/managers/VoteManager.sol [Line: 477](contracts/managers/VoteManager.sol#L477)

	```solidity
	            _maxGroupSizeForMinQuorum > 1024 ||
	```

- Found in contracts/managers/VoteManager.sol [Line: 478](contracts/managers/VoteManager.sol#L478)

	```solidity
	            _minGroupSizeForMaxQuorum < 5) revert InvalidGroupSizeParams();
	```

- Found in contracts/managers/VoteManager.sol [Line: 596](contracts/managers/VoteManager.sol#L596)

	```solidity
	        if (_quorum < 25 ) revert QuorumCannotBeLowerThan25();
	```

- Found in contracts/managers/VoteManager.sol [Line: 634](contracts/managers/VoteManager.sol#L634)

	```solidity
	        uint256 yScalingFactor = 1e4; 
	```

- Found in contracts/managers/VoteManager.sol [Line: 643](contracts/managers/VoteManager.sol#L643)

	```solidity
	        uint256 scalingFactor = 1e4;
	```

</details>



## L-6: `nonReentrant` is Not the First Modifier

To protect against reentrancy in other modifiers, the `nonReentrant` modifier should be the first modifier in the list of modifiers.

<details><summary>6 Found Instances</summary>


- Found in contracts/managers/ProposalManager.sol [Line: 273](contracts/managers/ProposalManager.sol#L273)

	```solidity
	        nonReentrant
	```

- Found in contracts/managers/ProposalManager.sol [Line: 316](contracts/managers/ProposalManager.sol#L316)

	```solidity
	        nonReentrant
	```

- Found in contracts/managers/VoteManager.sol [Line: 360](contracts/managers/VoteManager.sol#L360)

	```solidity
	        nonReentrant
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 489](contracts/treasury/TreasuryManager.sol#L489)

	```solidity
	        nonReentrant 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 515](contracts/treasury/TreasuryManager.sol#L515)

	```solidity
	        nonReentrant 
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 531](contracts/treasury/TreasuryManager.sol#L531)

	```solidity
	        nonReentrant  
	```

</details>



## L-7: PUSH0 Opcode

Solc compiler version 0.8.20 switches the default target EVM version to Shanghai, which means that the generated bytecode will include PUSH0 opcodes. Be sure to select the appropriate EVM version in case you intend to deploy on a chain other than mainnet like L2 chains that may not support PUSH0, otherwise deployment of your contracts will fail.

<details><summary>22 Found Instances</summary>


- Found in contracts/fundingModules/GrantModule.sol [Line: 2](contracts/fundingModules/GrantModule.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 2](contracts/governance/GovernanceManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/IERC721IgnitionZK.sol [Line: 2](contracts/interfaces/IERC721IgnitionZK.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/IUpgradeable.sol [Line: 2](contracts/interfaces/IUpgradeable.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/IVersioned.sol [Line: 2](contracts/interfaces/IVersioned.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/fundingModules/IGrantModule.sol [Line: 2](contracts/interfaces/fundingModules/IGrantModule.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/governance/IGovernanceManager.sol [Line: 2](contracts/interfaces/governance/IGovernanceManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/managers/IMembershipManager.sol [Line: 2](contracts/interfaces/managers/IMembershipManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/managers/IProposalManager.sol [Line: 2](contracts/interfaces/managers/IProposalManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/managers/IVoteManager.sol [Line: 2](contracts/interfaces/managers/IVoteManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/treasury/ITreasuryFactory.sol [Line: 2](contracts/interfaces/treasury/ITreasuryFactory.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/interfaces/treasury/ITreasuryManager.sol [Line: 2](contracts/interfaces/treasury/ITreasuryManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/libraries/FundingTypes.sol [Line: 2](contracts/libraries/FundingTypes.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/libraries/TreasuryTypes.sol [Line: 2](contracts/libraries/TreasuryTypes.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/libraries/VoteTypes.sol [Line: 2](contracts/libraries/VoteTypes.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/managers/MembershipManager.sol [Line: 2](contracts/managers/MembershipManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/managers/ProposalManager.sol [Line: 2](contracts/managers/ProposalManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/managers/VoteManager.sol [Line: 2](contracts/managers/VoteManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 3](contracts/token/ERC721IgnitionZK.sol#L3)

	```solidity
	pragma solidity ^0.8.27;
	```

- Found in contracts/treasury/BeaconManager.sol [Line: 2](contracts/treasury/BeaconManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 2](contracts/treasury/TreasuryFactory.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 2](contracts/treasury/TreasuryManager.sol#L2)

	```solidity
	pragma solidity ^0.8.28;
	```

</details>



## L-8: Modifier Invoked Only Once

Consider removing the modifier or inlining the logic into the calling function.

<details><summary>3 Found Instances</summary>


- Found in contracts/fundingModules/GrantModule.sol [Line: 70](contracts/fundingModules/GrantModule.sol#L70)

	```solidity
	    modifier nonZeroKey(bytes32 key) {
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 82](contracts/treasury/TreasuryFactory.sol#L82)

	```solidity
	    modifier nonZeroKey(bytes32 key) {
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 285](contracts/treasury/TreasuryManager.sol#L285)

	```solidity
	    modifier onlyActiveFundingModule(bytes32 _fundingType) { 
	```

</details>



## L-9: Empty Block

Consider removing empty blocks.

<details><summary>5 Found Instances</summary>


- Found in contracts/fundingModules/GrantModule.sol [Line: 83](contracts/fundingModules/GrantModule.sol#L83)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/governance/GovernanceManager.sol [Line: 211](contracts/governance/GovernanceManager.sol#L211)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/managers/MembershipManager.sol [Line: 260](contracts/managers/MembershipManager.sol#L260)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/managers/ProposalManager.sol [Line: 184](contracts/managers/ProposalManager.sol#L184)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

- Found in contracts/managers/VoteManager.sol [Line: 273](contracts/managers/VoteManager.sol#L273)

	```solidity
	    function _authorizeUpgrade(address newImplementation) internal override onlyOwner {}
	```

</details>



## L-10: Unused Error

Consider using or removing the unused error.

<details><summary>5 Found Instances</summary>


- Found in contracts/governance/GovernanceManager.sol [Line: 83](contracts/governance/GovernanceManager.sol#L83)

	```solidity
	    error NewAddressMustBeDifferent();
	```

- Found in contracts/managers/ProposalManager.sol [Line: 58](contracts/managers/ProposalManager.sol#L58)

	```solidity
	    error ClaimNullifierAlreadyUsed();
	```

- Found in contracts/managers/ProposalManager.sol [Line: 64](contracts/managers/ProposalManager.sol#L64)

	```solidity
	    error InvalidContentHash();
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 80](contracts/treasury/TreasuryManager.sol#L80)

	```solidity
	    error TimelockHasPassed();
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 108](contracts/treasury/TreasuryManager.sol#L108)

	```solidity
	    error AddressIsNotAContract();
	```

</details>



## L-11: Loop Contains `require`/`revert`

Avoid `require` / `revert` statements in a loop because a single bad item can cause the whole transaction to fail. It's better to forgive on fail and return failed elements post processing of the loop

<details><summary>1 Found Instances</summary>


- Found in contracts/managers/MembershipManager.sol [Line: 482](contracts/managers/MembershipManager.sol#L482)

	```solidity
	        for (uint256 i = 0; i < memberCount; i++) {
	```

</details>



## L-12: Unused Import

Redundant import statement. Consider removing it.

<details><summary>4 Found Instances</summary>


- Found in contracts/managers/ProposalManager.sol [Line: 16](contracts/managers/ProposalManager.sol#L16)

	```solidity
	import { IERC165 } from "@openzeppelin/contracts/utils/introspection/IERC165.sol";
	```

- Found in contracts/treasury/BeaconManager.sol [Line: 9](contracts/treasury/BeaconManager.sol#L9)

	```solidity
	import { ITreasuryManager } from "../interfaces/treasury/ITreasuryManager.sol";
	```

- Found in contracts/treasury/BeaconManager.sol [Line: 10](contracts/treasury/BeaconManager.sol#L10)

	```solidity
	import { IBeacon } from "@openzeppelin/contracts/proxy/beacon/IBeacon.sol";
	```

- Found in contracts/treasury/TreasuryFactory.sol [Line: 12](contracts/treasury/TreasuryFactory.sol#L12)

	```solidity
	import { IERC165 } from "@openzeppelin/contracts/utils/introspection/IERC165.sol";
	```

</details>



## L-13: Unchecked Return

Function returns a value but it is ignored. Consider checking the return value.

<details><summary>12 Found Instances</summary>


- Found in contracts/managers/MembershipManager.sol [Line: 410](contracts/managers/MembershipManager.sol#L410)

	```solidity
	        _mustHaveSetGroupNft(groupKey);
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 68](contracts/token/ERC721IgnitionZK.sol#L68)

	```solidity
	        _grantRole(DEFAULT_ADMIN_ROLE, initialAdmin);
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 70](contracts/token/ERC721IgnitionZK.sol#L70)

	```solidity
	        _grantRole(MINTER_ROLE, initialMinter);
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 71](contracts/token/ERC721IgnitionZK.sol#L71)

	```solidity
	        _grantRole(MINTER_ROLE, initialAdmin);
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 73](contracts/token/ERC721IgnitionZK.sol#L73)

	```solidity
	        _grantRole(BURNER_ROLE, initialBurner);
	```

- Found in contracts/token/ERC721IgnitionZK.sol [Line: 74](contracts/token/ERC721IgnitionZK.sol#L74)

	```solidity
	        _grantRole(BURNER_ROLE, initialAdmin);
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 334](contracts/treasury/TreasuryManager.sol#L334)

	```solidity
	        _grantRole(DEFAULT_ADMIN_ROLE, _treasuryMultiSig);
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 335](contracts/treasury/TreasuryManager.sol#L335)

	```solidity
	        _grantRole(GOVERNANCE_MANAGER_ROLE, _governanceManager);
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 336](contracts/treasury/TreasuryManager.sol#L336)

	```solidity
	        _grantRole(EMERGENCY_RECOVERY_ROLE, _treasuryRecovery);
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 366](contracts/treasury/TreasuryManager.sol#L366)

	```solidity
	        _grantRole(DEFAULT_ADMIN_ROLE, _newAdmin);  
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 367](contracts/treasury/TreasuryManager.sol#L367)

	```solidity
	        _revokeRole(DEFAULT_ADMIN_ROLE, msg.sender);
	```

- Found in contracts/treasury/TreasuryManager.sol [Line: 386](contracts/treasury/TreasuryManager.sol#L386)

	```solidity
	        _grantRole(DEFAULT_ADMIN_ROLE, _newAdmin);
	```

</details>



