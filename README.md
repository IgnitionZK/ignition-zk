<p align="center">
  <img src="frontend/src/assets/logo.png" alt="IgnitionZK Logo" width="100">
</p>

# A **ZKP-Governed**, **Modular**, **Upgradeable** Treasury Framework
## For High-Impact, **Closed-Group DAOs**

![IgnitionZK Summary](frontend/src/assets/topline.png)


## Smart Contracts List

| Smart Contract | Function | Type | Stores | Responsibilities | Owner |
|---|---|---|---|---|---|
| [Membership Manager](hardhat/contracts/managers/MembershipManager.sol) | ![Membership Manager Function Badge](https://img.shields.io/badge/ZK_Engine-blue?style=flat-square) | ![Membership Manager Type Badge](https://img.shields.io/badge/UUPS-EIP--1822-yellow?style=flat-square) | <ul> <li> Merkle roots </ul>| <ul> <li> Deploys group NFTs <li> Adds or removes DAO members via NFT-Gating </ul> | Governance Manager ![Membership Manager Owner Badge](https://img.shields.io/badge/OZ_Ownable-gray?style=flat-square) 
| [Proposal Manager](hardhat/contracts/managers/ProposalManager.sol)  | ![Proposal Manager Function Badge](https://img.shields.io/badge/ZK_Engine-blue?style=flat-square) | ![Proposal Manager Type Badge](https://img.shields.io/badge/UUPS-EIP--1822-yellow?style=flat-square) | <ul><li> Proposal Nullifiers <li> Proposal Content Hash</ul> | <ul><li> Verifies validity of proposal submissions </ul> | Governance Manager ![Proposal Manager Owner Badge](https://img.shields.io/badge/OZ_Ownable-gray?style=flat-square) 
| [Voting Manager](hardhat/contracts/managers/VotingManager.sol) | ![Voting Manager Function Badge](https://img.shields.io/badge/ZK_Engine-blue?style=flat-square) | ![Voting Manager Type Badge](https://img.shields.io/badge/UUPS-EIP--1822-yellow?style=flat-square) | <ul><li> Vote Nullifiers <li> Vote Content Hash</ul> | <ul><li></ul> | Governance Manager ![Voting Manager Owner Badge](https://img.shields.io/badge/OZ_Ownable-gray?style=flat-square)  
| [Proposal Verifier](hardhat/contracts/verifiers/ProposalVerifier.sol) |  ![Proposal Verifier Function Badge](https://img.shields.io/badge/ZK_Engine-blue?style=flat-square) | ![Proposal  Verifier Type Badge](https://img.shields.io/badge/Immutable-gray?style=flat-square) | | <ul><li>Verifies proposal submission proofs when called by Proposal Manager </ul> | ![Proposal Verifier Owner Badge](https://img.shields.io/badge/Unrestricted-gray?style=flat-square) 
| [Voting Verifier](hardhat/contracts/verifiers/VotingVerifier.sol) | ![Voting Verifier Function Badge](https://img.shields.io/badge/ZK_Engine-blue?style=flat-square) | ![Voting  Verifier Type Badge](https://img.shields.io/badge/Immutable-gray?style=flat-square) | | <ul><li>Verifies voting proofs when called by Voting Manager </ul> | ![Voting Verifier Owner Badge](https://img.shields.io/badge/Unrestricted-gray?style=flat-square) 
| [ERC721IgnitionZK](hardhat/contracts/token/ERC721IgnitionZK.sol) | ![ERC721IgnitionZK Verifier Function Badge](https://img.shields.io/badge/NFT_Factory-yekkiw?style=flat-square)  | ![ERC721IgnitionZK Type Badge](https://img.shields.io/badge/Clone-EIP--1167-blue?style=flat-square) | | <ul><li>Deploys NFT Clones for new DAOs</ul> | Membership Manager ![ERC721IgnitionZK Owner Badge](https://img.shields.io/badge/OZ_AccessControl-gray?style=flat-square) 
| [Governance Manager](hardhat/contracts/governance/GovernanceManager.sol)  | ![Governance Manager Function Badge](https://img.shields.io/badge/Governance-purple?style=flat-square) | ![Governance Manager Type Badge](https://img.shields.io/badge/UUPS-EIP--1822-yellow?style=flat-square) |.. | <ul><li>Delegates calls to other Managers </ul> | Multi-sig ![Governance Manager Owner Badge](https://img.shields.io/badge/OZ_Ownable-gray?style=flat-square) 
| Treasury Manager | ![Treasury Manager Function Badge](https://img.shields.io/badge/Treasury-orange?style=flat-square) | ... | ... | ... | Governance Manager ![Treasury Manager Owner Badge](https://img.shields.io/badge/OZ_Ownable-gray?style=flat-square) 
| Grant Module | ![Grant Module Function Badge](https://img.shields.io/badge/Funding_Module-gray?style=flat-square) | ... | ... | ... | Governance Manager ![Treasury Manager Owner Badge](https://img.shields.io/badge/OZ_Ownable-gray?style=flat-square) 
| Quadratic Funding Module | ![Quadratic Funding Module Function Badge](https://img.shields.io/badge/Funding_Module-gray?style=flat-square) | ... | ... | ... | Governance Manager ![Treasury Manager Owner Badge](https://img.shields.io/badge/OZ_Ownable-gray?style=flat-square) 
.. | .. | ..| .. | .. | ..


## Circom Circuits List
Circuit | Summary | Proof Verification Context | Included circuit | Input Signals | Public Output Signals | Circuit Constraints | On-Chain Constraints 
|---|---|---|---|---|---|---|---|
| [Membership](zk/circuits/membership/membership_circuit.circom) | Enables private verification of DAO membership through ZK credentials and Merkle proofs. |![DAO Group Badge](https://img.shields.io/badge/per-DAO-blue?style=flat-square) | | <ul><li>```root``` <li>```group hash``` <li>```identity trapdoor``` <li> ```identity nullifier``` <li> ```path elements``` array <li> ```path indices``` array </ul>  | <ul><li>```root``` <li> ```group hash``` <li> ```membership nullifier``` </ul> | ``` isMember === 1```| unique ```membership nullifier``` |
| [Proposal Submission](zk/circuits/proposal/proposal_circuit.circom) | Enables private submission of funding proposals from verified DAO members, incorporating content validation and deduplication. | ![DAO Group Badge](https://img.shields.io/badge/per-DAO-blue?style=flat-square) ![Epoch Badge](https://img.shields.io/badge/per-EPOCH-yellow?style=flat-square) | ![MembershipProof Badge](https://img.shields.io/badge/MEMBERSHIP-red?style=flat-square) | <ul> <li> input signals from ![MembershipProof Badge](https://img.shields.io/badge/MEMBERSHIP-red?style=flat-square) <li> ```proposal content hash``` <li> ```proposal title hash``` <li> ```proposal description hash``` <li> ```proposal payload hash``` <li> ```epoch hash```</ul> | <ul><li>```proposal context hash```  <li> ```proposal nullifier``` <li> ```root``` <li> ```proposal content hash``` </ul>  | ``` isMember === 1``` ```Poseidon(title, description, paylod) === ProposalContentHash```  | unique ```proposal nullifier``` |
[Voting](zk/circuits/voting/voting_circuit.circom) | Enables confidential voting by verified DAO members, with built-in vote content validation and deduplication.  |![DAO Group Badge](https://img.shields.io/badge/per-DAO-blue?style=flat-square) ![Epoch Badge](https://img.shields.io/badge/per-EPOCH-yellow?style=flat-square) ![Proposal Badge](https://img.shields.io/badge/per-PROPOSAL-purple?style=flat-square) |![MembershipProof Badge](https://img.shields.io/badge/MEMBERSHIP-red?style=flat-square) | <ul> <li> input signals from ![MembershipProof Badge](https://img.shields.io/badge/MEMBERSHIP-red?style=flat-square) </ul> | ... | ... | unique ```voting nullifier``` |

## Core Scripts List
Core Scripts | Class | Summary | Libraries | Key Methods
|---|---|---|---|---|
[generateCredentials.js](frontend/src/scripts/generateCredentials.js) | ![generateCredentials Badge](https://img.shields.io/badge/CLASS-ZkCredentials-red?style=flat-square)  | Provides methods for generating mnemonic seeds, cryptographic keys and zero-knowledge credentials for identity management. | <ul><li> `bip39` for mnemonic generation and seed derivation. <li> `circomlibjs` for Poseidon hashing <li> `@noble/hashes` library for HKDF and SHA-256 hashing. <li> `ethers` for keccak256 hashing and UTF-8 byte conversion </ul> | <ul> <li>`generateMnemonicSeed(bits)`: Generates a mnemonic seed phrase and its corresponding seed. <li> `generateSeedFromMnemonic(mnemonic)`: Recovers the seed from a mnemonic phrase. <li> `generateKeys(ikm)`: Derives trapdoor and nullifier keys from an initial key material (IKM). <li>`generateIdentity(trapdoorKey, nullifierKey)`: Generates a zero-knowledge identity from trapdoor and nullifier keys. <li> `generateCredentials(bits)`: Generates complete zero-knowledge credentials including identity and commitment.  <ul>
[merkleTreeService.js](frontend/src/scripts/merkleTreeService.js) | ![merkeTreeService Badge](https://img.shields.io/badge/CLASS-MerkleTreeService-red?style=flat-square) |  Provides methods to create a Merkle tree from hashed leaves and to generate Merkle proofs for specific leaves. | <ul> <li> `circomlibjs` for Poseidon hashing <li> `@zk-kit/imt` for the Merkle tree implementation. </ul> | <ul> <li>`createMerkleTree(hashedLeaves)`: Creates a Merkle tree from an array of hashed leaves. <li> `generateMerkleProof(index, hashedLeaves)`: Generates a Merkle proof for a specific leaf at a given index. </ul>
[generateZKProof.js](frontend/src/scripts/generateZKProof.js) | ![generateZKProof Badge](https://img.shields.io/badge/CLASS-ZKProofGenerator-red?style=flat-square) | Provides methods to generate zero-knowledge proofs for the membership, voting, and proposal circuits. | <ul>  <li> `circomlibjs` for Poseidon hashing. <li> `snarkjs` for generating and verifying zero-knowledge proofs. <li> `ethers` utilities for hashing and encoding data. <li> `@zk-kit/imt` for the implementation of Merkle trees. </ul> | <ul><li> `generateMembershipCircuitInput`: Generates the input for the Membership circuit. <li> `generateProposalCircuitInput`: Generates the input for the Proposal circuit. <li> `generateProof`: Generates a zero-knowledge proof for the specified circuit input. <li> `verifyProofOffChain`: Verifies a zero-knowledge proof off-chain using the provided verification key. <li> `generateSolidityCalldata`: Generates Solidity calldata from the proof and public signals. </ul>

## Phase 1
![Phase1](frontend/src/assets/phase1.png)
