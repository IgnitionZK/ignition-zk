
### Phase 3: Anonymous Voting

#### Step 3.1 Voting Phase

After proposals are submitted, verified proposals become available for voting. The list of eligible voters is fixed at the start of the campaign—only those who generated their ZK credentials before voting began can participate, and no new members can join until the campaign ends.

#### Step 3.2 Submitting Votes Anonymously

![Vote casting](../frontend/src/assets/vote_casting.png)

Voting is private and independent for each proposal. Members cast their votes (Yes, No, or Abstain) using a zero-knowledge proof generated by the `vote_circuit.circom` circuit.

The proof ensures that:
- Only verified members can vote, and only once per proposal.
- Each vote is for a valid choice and is securely tied to the correct proposal.
- The system prevents double voting and misdirected votes.

Votes are sent to the `GovernanceManager`, which passes them to the `VoteManager` for verification. If the proof checks out, the vote is tallied on-chain.

**Onchain Flow:**

```
User (Voter) → Generate ZK-Proof (vote_circuit.circom) → Relayer → GovernanceManager (delegateVerifyVote) → VoteManager → VoteVerifier → Update Proposal Tally in VoteManager
```

#### Step 3.3 How Proposals Are Accepted

A proposal is accepted if it meets three conditions: enough members have voted (quorum), more than half of the votes are "Yes" (majority), and the DAO has at least two members. The system checks these requirements every time a new vote is counted.

Quorum isn’t a fixed number—it scales with the size of the DAO. Smaller groups require 50% participation, while larger groups can pass proposals with as little as 25% turnout. For groups in between, the quorum is linearly interpolated based on the group's size, balancing participation with efficiency.

![Quorum](../frontend/src/assets/quorumplot.jpg)

The proposal status (passed: true / false) is computed every time a new verified vote is tallied onchain.

---
**References:**
- [`VoteManager.sol`](../hardhat/contracts/managers/VoteManager.sol)
- [`vote_circuit.circom`](../zk/circuits/vote/vote_circuit.circom)
- [`GovernanceManager.sol`](../hardhat/contracts/governance/GovernanceManager.sol)
- [`frontend/src/scripts/generateZKProof.js`](../frontend/src/scripts/generateZKProof.js)